const btnWriteUs=document.querySelector(".contacts-button"),modal=document.querySelector(".modal"),closeModal=modal.querySelector(".modal-close"),form=modal.querySelector(".modal-form"),nameInput=form.querySelector("[name = name]"),emailInput=form.querySelector("[name = email]");let isStorageSupport=!0;const storage=localStorage.getItem("name");try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}function addingIsEmpty(e){e.classList.add("is-empty")}function removeIsEmpty(e){e.classList.remove("is-empty")}btnWriteUs.addEventListener("click",function(e){e.preventDefault(),modal.classList.remove("hidden"),storage&&(nameInput.value=storage),nameInput.value==storage?emailInput.focus():nameInput.focus()}),closeModal.addEventListener("click",function(){modal.classList.add("hidden"),modal.classList.remove("modal-error")}),form.addEventListener("submit",function(e){nameInput.value&&emailInput.value?localStorage.setItem("name",nameInput.value):(e.preventDefault(),modal.classList.toggle("modal-error"),nameInput.value?removeIsEmpty(nameInput):addingIsEmpty(nameInput),emailInput.value?removeIsEmpty(emailInput):addingIsEmpty(emailInput))}),window.addEventListener("keydown",function(e){27==e.keyCode&&(modal.classList.contains("hidden")||(modal.classList.add("hidden"),modal.classList.remove("modal-error")))});
